<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Curriculum - Portuguese Language Tutor</title>

    <!-- PWA Manifest -->
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#0ea5e9">
    <!-- Favicons -->
    <link rel="icon" href="/favicon.ico" sizes="any">
    <link rel="icon" type="image/png" sizes="16x16" href="/icons/icon-16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/icons/icon-32.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/icons/icon-192.png">
    <link rel="apple-touch-icon" href="/icons/icon-192.png">

    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Inter', system-ui, -apple-system, sans-serif;
        }

        .unit-card {
            transition: all 0.2s;
        }

        .unit-card:hover {
            transform: translateY(-2px);
        }

        .phase-header {
            position: sticky;
            top: 0;
            z-index: 10;
            backdrop-filter: blur(10px);
        }
    </style>
    <!-- Plausible Analytics -->
    <script async src="https://plausible.io/js/pa-A2kEULXGZtzUYXPsVOQwU.js"></script>
    <script>window.plausible=window.plausible||function(){(plausible.q=plausible.q||[]).push(arguments)},plausible.init=plausible.init||function(i){plausible.o=i||{}};plausible.init()</script>
</head>

<body class="bg-slate-50">

    <!-- Header -->
    <header class="bg-gradient-to-r from-sky-500 to-blue-600 text-white shadow-lg">
        <div class="container mx-auto max-w-7xl px-4 py-8">
            <div class="flex items-center justify-between">
                <div>
                    <a href="/" class="text-sm opacity-80 hover:opacity-100 mb-2 inline-block">← Back to Home</a>
                    <h1 class="text-4xl font-bold">Brazilian Portuguese Curriculum</h1>
                    <p class="mt-2 text-lg opacity-90">Structured learning path from A1 to B2</p>
                </div>
                <div class="hidden md:block text-right">
                    <div class="text-5xl font-bold">100</div>
                    <div class="text-sm opacity-80">Units</div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Overview -->
    <div class="bg-white border-b shadow-sm">
        <div class="container mx-auto max-w-7xl px-4 py-6">
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                <div class="text-center p-4 bg-green-50 rounded-lg">
                    <div class="text-3xl font-bold text-green-600">25</div>
                    <div class="text-sm text-gray-600 mt-1">A1 Units</div>
                    <div class="text-xs text-gray-500">Beginner</div>
                </div>
                <div class="text-center p-4 bg-blue-50 rounded-lg">
                    <div class="text-3xl font-bold text-blue-600">30</div>
                    <div class="text-sm text-gray-600 mt-1">A2 Units</div>
                    <div class="text-xs text-gray-500">Elementary</div>
                </div>
                <div class="text-center p-4 bg-purple-50 rounded-lg">
                    <div class="text-3xl font-bold text-purple-600">25</div>
                    <div class="text-sm text-gray-600 mt-1">B1 Units</div>
                    <div class="text-xs text-gray-500">Intermediate</div>
                </div>
                <div class="text-center p-4 bg-orange-50 rounded-lg">
                    <div class="text-3xl font-bold text-orange-600">20</div>
                    <div class="text-sm text-gray-600 mt-1">B2 Units</div>
                    <div class="text-xs text-gray-500">Upper-Int.</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Filters -->
    <div class="bg-white border-b shadow-sm">
        <div class="container mx-auto max-w-7xl px-4 py-4">
            <div class="flex flex-wrap gap-2">
                <button onclick="filterByPhase('all')"
                    class="filter-btn active px-4 py-2 rounded-full bg-sky-500 text-white font-medium text-sm hover:bg-sky-600 transition">
                    All Units
                </button>
                <button onclick="filterByPhase('A1')"
                    class="filter-btn px-4 py-2 rounded-full bg-gray-200 text-gray-700 font-medium text-sm hover:bg-gray-300 transition">
                    A1 (Beginner)
                </button>
                <button onclick="filterByPhase('A2')"
                    class="filter-btn px-4 py-2 rounded-full bg-gray-200 text-gray-700 font-medium text-sm hover:bg-gray-300 transition">
                    A2 (Elementary)
                </button>
                <button onclick="filterByPhase('B1')"
                    class="filter-btn px-4 py-2 rounded-full bg-gray-200 text-gray-700 font-medium text-sm hover:bg-gray-300 transition">
                    B1 (Intermediate)
                </button>
                <button onclick="filterByPhase('B2')"
                    class="filter-btn px-4 py-2 rounded-full bg-gray-200 text-gray-700 font-medium text-sm hover:bg-gray-300 transition">
                    B2 (Upper-Intermediate)
                </button>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="container mx-auto max-w-7xl px-4 py-8">

        <!-- Phase 1: A1 (Beginner) -->
        <div class="phase-section mb-12" data-phase="A1">
            <div class="phase-header bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-t-xl px-6 py-4">
                <div class="flex items-center justify-between">
                    <div>
                        <h2 class="text-2xl font-bold">Phase 1: A1 (Beginner)</h2>
                        <p class="text-sm opacity-90 mt-1">Foundation & Self-Introduction • Units 1-25</p>
                    </div>
                    <div class="text-right">
                        <div class="text-3xl font-bold">25</div>
                        <div class="text-xs opacity-80">units</div>
                    </div>
                </div>
            </div>
            <div class="bg-white rounded-b-xl shadow-lg p-6">
                <div id="phase-a1-units" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                    <!-- Units will be inserted here by JavaScript -->
                </div>
            </div>
        </div>

        <!-- Phase 2: A2 (Elementary) -->
        <div class="phase-section mb-12" data-phase="A2">
            <div class="phase-header bg-gradient-to-r from-blue-500 to-cyan-600 text-white rounded-t-xl px-6 py-4">
                <div class="flex items-center justify-between">
                    <div>
                        <h2 class="text-2xl font-bold">Phase 2: A2 (Elementary)</h2>
                        <p class="text-sm opacity-90 mt-1">Past Tenses & Pronouns • Units 26-55</p>
                    </div>
                    <div class="text-right">
                        <div class="text-3xl font-bold">30</div>
                        <div class="text-xs opacity-80">units</div>
                    </div>
                </div>
            </div>
            <div class="bg-white rounded-b-xl shadow-lg p-6">
                <div id="phase-a2-units" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                    <!-- Units will be inserted here by JavaScript -->
                </div>
            </div>
        </div>

        <!-- Phase 3: B1 (Intermediate) -->
        <div class="phase-section mb-12" data-phase="B1">
            <div class="phase-header bg-gradient-to-r from-purple-500 to-pink-600 text-white rounded-t-xl px-6 py-4">
                <div class="flex items-center justify-between">
                    <div>
                        <h2 class="text-2xl font-bold">Phase 3: B1 (Intermediate)</h2>
                        <p class="text-sm opacity-90 mt-1">Relative Clauses & Passive • Units 56-80</p>
                    </div>
                    <div class="text-right">
                        <div class="text-3xl font-bold">25</div>
                        <div class="text-xs opacity-80">units</div>
                    </div>
                </div>
            </div>
            <div class="bg-white rounded-b-xl shadow-lg p-6">
                <div id="phase-b1-units" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                    <!-- Units will be inserted here by JavaScript -->
                </div>
            </div>
        </div>

        <!-- Phase 4: B2 (Upper-Intermediate) -->
        <div class="phase-section mb-12" data-phase="B2">
            <div class="phase-header bg-gradient-to-r from-orange-500 to-red-600 text-white rounded-t-xl px-6 py-4">
                <div class="flex items-center justify-between">
                    <div>
                        <h2 class="text-2xl font-bold">Phase 4: B2 (Upper-Intermediate)</h2>
                        <p class="text-sm opacity-90 mt-1">Subjunctive & Personal Infinitive • Units 81-100</p>
                    </div>
                    <div class="text-right">
                        <div class="text-3xl font-bold">20</div>
                        <div class="text-xs opacity-80">units</div>
                    </div>
                </div>
            </div>
            <div class="bg-white rounded-b-xl shadow-lg p-6">
                <div id="phase-b2-units" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                    <!-- Units will be inserted here by JavaScript -->
                </div>
            </div>
        </div>

    </div>

    <!-- Footer -->
    <footer class="bg-gray-100 border-t mt-12">
        <div class="container mx-auto max-w-7xl px-4 py-8 text-center text-gray-600 text-sm">
            <p>© 2025 Portuguese Language Tutor • Complete A1-B2 Curriculum</p>
            <p class="mt-2">
                <a href="/" class="text-sky-600 hover:text-sky-700">Home</a> •
                <a href="/?section=diagnostic-test" class="text-sky-600 hover:text-sky-700">Diagnostic Test</a> •
                <a href="/?action=start-session" class="text-sky-600 hover:text-sky-700">Practice Drills</a>
            </p>
        </div>
    </footer>

    <script>
        // Syllabus data structure - comprehensive A1-B2 curriculum (100 units)
        const syllabusData = {
            A1: [
                // Core grammar foundations + essential vocabulary
                { unit: 1, title: "Ser - Identity Statements (Eu sou)", topics: ["Click to Practice"], drillId: "self-introduction" },
                { unit: 2, title: "Prepositions de/do/da (Eu sou do Brasil)", topics: ["Click to Practice"], drillId: "contractions-articles" },
                { unit: 3, title: "Definite Articles (o, a, os, as)", topics: ["Click to Practice"], drillId: "noun-plurals" },
                { unit: 4, title: "Indefinite Articles (um, uma, uns, umas)", topics: ["Click to Practice"], drillId: "noun-plurals" },
                { unit: 5, title: "Estar - Location & States", topics: ["Click to Practice"], drillId: "ser-estar" },
                { unit: 6, title: "Adjective Agreement (bonito/bonita)", topics: ["Click to Practice"], drillId: "adjective-agreement" },
                { unit: 7, title: "Muito Agreement (muito/muita/muitos)", topics: ["Click to Practice"], drillId: "muito" },
                { unit: 8, title: "Regular -AR Verbs: Morar, Falar", topics: ["Click to Practice"], drillId: "regular-ar" },
                { unit: 9, title: "Prepositions em/no/na (no Brasil, na casa)", topics: ["Click to Practice"], drillId: "common-prepositions" },
                { unit: 10, title: "Regular -AR Verbs: Trabalhar, Estudar", topics: ["Click to Practice"], drillId: "regular-ar" },
                { unit: 11, title: "Numbers 0-100 & Age (Tenho X anos)", topics: ["Click to Practice"], drillId: "numbers" },
                { unit: 12, title: "Ser vs Estar - When to Use Each", topics: ["Click to Practice"], drillId: "ser-estar" },
                { unit: 13, title: "Location Prepositions (perto de, longe de)", topics: ["Click to Practice"], drillId: "common-prepositions" },
                { unit: 14, title: "Family Vocabulary (mãe, pai, irmão)", topics: ["Click to Practice"], drillId: "possessives" },
                { unit: 15, title: "Food & Drinks Vocabulary", topics: ["Click to Practice"], drillId: "food-meals" },
                { unit: 16, title: "Ter - Possession (Eu tenho)", topics: ["Click to Practice"], drillId: "irregular-verbs" },
                { unit: 17, title: "Colors (cores)", topics: ["Click to Practice"], drillId: "colors" },
                { unit: 18, title: "Days of the Week", topics: ["Click to Practice"], drillId: "days-of-week" },
                { unit: 19, title: "Gostar de - Expressing Likes", topics: ["Click to Practice"], drillId: "regular-ar" },
                { unit: 20, title: "Body Parts (partes do corpo)", topics: ["Click to Practice"], drillId: "body-parts" },
                { unit: 21, title: "Ficar - Location & Staying", topics: ["Click to Practice"], drillId: "regular-ar" },
                { unit: 22, title: "Regular -ER Verbs (Comer, Beber)", topics: ["Click to Practice"], drillId: "regular-er" },
                { unit: 23, title: "3rd Person Singular (Ele/Ela fala)", topics: ["Click to Practice"], drillId: "subject-identification" },
                { unit: 24, title: "1st Person Plural (Nós falamos)", topics: ["Click to Practice"], drillId: "subject-identification" },
                { unit: 25, title: "Precisar de - Expressing Needs", topics: ["Click to Practice"], drillId: "regular-ar" },
            ],
            A2: [
                // Expanding verb system, past tenses, basic pronouns
                { unit: 26, title: "Regular -IR Verbs (Abrir, Partir)", topics: ["Click to Practice"], drillId: "regular-ir" },
                { unit: 27, title: "Near Future (Ir + Infinitive)", topics: ["Click to Practice"], drillId: "immediate-future" },
                { unit: 28, title: "3rd Person Plural (Eles/Elas falam)", topics: ["Click to Practice"], drillId: "subject-identification" },
                { unit: 29, title: "Weather Expressions (Está chovendo)", topics: ["Click to Practice"], drillId: "weather" },
                { unit: 30, title: "Question Words (Onde, O que, Quando)", topics: ["Click to Practice"], drillId: "question-words" },
                { unit: 31, title: "Haver - Existence (Há, Havia)", topics: ["Click to Practice"], drillId: "irregular-verbs" },
                { unit: 32, title: "Possessives: Meu/Minha, Seu/Sua", topics: ["Click to Practice"], drillId: "possessives" },
                { unit: 33, title: "Possessives: Nosso/Nossa, Dele/Dela", topics: ["Click to Practice"], drillId: "possessives" },
                { unit: 34, title: "Negative Words (não, nunca, nada, ninguém)", topics: ["Click to Practice"], drillId: "conversational-answers" },
                { unit: 35, title: "Preterite Regular -AR (falei, falou)", topics: ["Click to Practice"], drillId: "preterite-tense" },
                { unit: 36, title: "Preterite Regular -ER/-IR (comi, parti)", topics: ["Click to Practice"], drillId: "preterite-tense" },
                { unit: 37, title: "Preterite Irregular: Ser/Ir (fui, foi)", topics: ["Click to Practice"], drillId: "preterite-tense" },
                { unit: 38, title: "Preterite Irregular: Ter/Estar", topics: ["Click to Practice"], drillId: "preterite-tense" },
                { unit: 39, title: "Preterite Irregular: Fazer/Dizer/Trazer", topics: ["Click to Practice"], drillId: "preterite-tense" },
                { unit: 40, title: "Preterite Irregular: Ver/Vir/Dar", topics: ["Click to Practice"], drillId: "preterite-tense" },
                { unit: 41, title: "Preterite Irregular: Poder/Pôr/Saber/Querer", topics: ["Click to Practice"], drillId: "preterite-tense" },
                { unit: 42, title: "Preposition Contractions (ao, à, pelo, pela)", topics: ["Click to Practice"], drillId: "crase" },
                { unit: 43, title: "Para vs Por - Basic Uses", topics: ["Click to Practice"], drillId: "por-vs-para" },
                { unit: 44, title: "Reflexive Pronouns (me, se, nos)", topics: ["Click to Practice"], drillId: "reflexive-verbs" },
                { unit: 45, title: "Direct Object Pronouns (o, a, os, as)", topics: ["Click to Practice"], drillId: "object-pronouns" },
                { unit: 46, title: "Imperfect Tense - Regular (falava, comia)", topics: ["Click to Practice"], drillId: "imperfect-tense" },
                { unit: 47, title: "Imperfect Tense - Irregular (era, tinha, vinha)", topics: ["Click to Practice"], drillId: "imperfect-tense" },
                { unit: 48, title: "Preterite vs Imperfect - When to Use", topics: ["Click to Practice"], drillId: "imperfect-tense" },
                { unit: 49, title: "Comparatives (mais...que, menos...que)", topics: ["Click to Practice"], drillId: "comparatives" },
                { unit: 50, title: "Superlatives (o mais..., o menos...)", topics: ["Click to Practice"], drillId: "superlatives" },
                { unit: 51, title: "Irregular Comparatives (melhor, pior, maior)", topics: ["Click to Practice"], drillId: "comparatives" },
                { unit: 52, title: "Absolute Superlatives (-íssimo)", topics: ["Click to Practice"], drillId: "superlatives" },
                { unit: 53, title: "Diminutives (-inho, -zinho)", topics: ["Click to Practice"], drillId: "noun-plurals" },
                { unit: 54, title: "Augmentatives (-ão, -ona)", topics: ["Click to Practice"], drillId: "noun-plurals" },
                { unit: 55, title: "Months, Dates & Telling Time", topics: ["Click to Practice"], drillId: "dates" },
            ],
            B1: [
                // Pronouns, relative clauses, passive voice, compound tenses
                { unit: 56, title: "Demonstratives (este, esse, aquele)", topics: ["Click to Practice"], drillId: "demonstratives" },
                { unit: 57, title: "Indefinite Pronouns (alguém, algo, nenhum)", topics: ["Click to Practice"], drillId: "conversational-answers" },
                { unit: 58, title: "Indefinite Pronouns (qualquer, cada, outro)", topics: ["Click to Practice"], drillId: "conversational-answers" },
                { unit: 59, title: "Indirect Object Pronouns (me, lhe, nos)", topics: ["Click to Practice"], drillId: "object-pronouns" },
                { unit: 60, title: "Próclise with Negatives (não me)", topics: ["Click to Practice"], drillId: "object-pronouns" },
                { unit: 61, title: "Próclise with Adverbs (sempre me)", topics: ["Click to Practice"], drillId: "object-pronouns" },
                { unit: 62, title: "Pronouns after Infinitives (para me ver)", topics: ["Click to Practice"], drillId: "object-pronouns" },
                { unit: 63, title: "Verb + Preposition: Pensar em, Sonhar com", topics: ["Click to Practice"], drillId: "common-prepositions" },
                { unit: 64, title: "Verb + Preposition: Depender de, Gostar de", topics: ["Click to Practice"], drillId: "common-prepositions" },
                { unit: 65, title: "Relative Pronoun: Que (basic)", topics: ["Click to Practice"], drillId: "interrogatives" },
                { unit: 66, title: "Relative Pronoun: Onde (where)", topics: ["Click to Practice"], drillId: "interrogatives" },
                { unit: 67, title: "Relative Pronoun: Quem (who)", topics: ["Click to Practice"], drillId: "interrogatives" },
                { unit: 68, title: "Relative Pronoun: Cujo (whose)", topics: ["Click to Practice"], drillId: "interrogatives" },
                { unit: 69, title: "Relative Pronoun: O que (what/that which)", topics: ["Click to Practice"], drillId: "interrogatives" },
                { unit: 70, title: "Preposition + Que (em que, com que)", topics: ["Click to Practice"], drillId: "common-prepositions" },
                { unit: 71, title: "Relative Pronoun: O qual (formal)", topics: ["Click to Practice"], drillId: "interrogatives" },
                { unit: 72, title: "Compound Past: Ter + Participle (tenho feito)", topics: ["Click to Practice"], drillId: "preterite-tense" },
                { unit: 73, title: "Pluperfect: Tinha + Participle (tinha feito)", topics: ["Click to Practice"], drillId: "imperfect-tense" },
                { unit: 74, title: "Reported Speech (Ele disse que...)", topics: ["Click to Practice"], drillId: "conversational-answers" },
                { unit: 75, title: "Passive Voice with Ser (foi feito)", topics: ["Click to Practice"], drillId: "irregular-verbs" },
                { unit: 76, title: "Passive Progressive (está sendo feito)", topics: ["Click to Practice"], drillId: "present-continuous" },
                { unit: 77, title: "SE Passive (Fala-se português)", topics: ["Click to Practice"], drillId: "reflexive-verbs" },
                { unit: 78, title: "SE Passive - Impersonal (Vende-se)", topics: ["Click to Practice"], drillId: "reflexive-verbs" },
                { unit: 79, title: "Imperative - Affirmative (Fala! Fale!)", topics: ["Click to Practice"], drillId: "imperative" },
                { unit: 80, title: "Imperative - Negative (Não fale!)", topics: ["Click to Practice"], drillId: "imperative" },
            ],
            B2: [
                // Future, conditional, subjunctive, personal infinitive, periphrases
                { unit: 81, title: "Simple Future (Farei, Fará)", topics: ["Click to Practice"], drillId: "future-tense" },
                { unit: 82, title: "Conditional Tense (Faria, Gostaria)", topics: ["Click to Practice"], drillId: "conditional-tense" },
                { unit: 83, title: "Past Future (Disse que faria)", topics: ["Click to Practice"], drillId: "conditional-tense" },
                { unit: 84, title: "Acabar de + Infinitive (just did)", topics: ["Click to Practice"], drillId: "time-expressions" },
                { unit: 85, title: "Voltar a + Infinitive (do again)", topics: ["Click to Practice"], drillId: "time-expressions" },
                { unit: 86, title: "Aspectual Verbs (começar a, parar de)", topics: ["Click to Practice"], drillId: "time-expressions" },
                { unit: 87, title: "Time Expressions (há, faz, desde)", topics: ["Click to Practice"], drillId: "time-expressions" },
                { unit: 88, title: "Todo vs Tudo", topics: ["Click to Practice"], drillId: "todo-tudo" },
                { unit: 89, title: "Present Subjunctive - Regular", topics: ["Click to Practice"], drillId: "present-subjunctive" },
                { unit: 90, title: "Present Subjunctive - Irregular", topics: ["Click to Practice"], drillId: "present-subjunctive" },
                { unit: 91, title: "Subjunctive Triggers: Querer que, Espero que", topics: ["Click to Practice"], drillId: "present-subjunctive" },
                { unit: 92, title: "Subjunctive Triggers: Talvez, Embora, Caso", topics: ["Click to Practice"], drillId: "present-subjunctive" },
                { unit: 93, title: "Imperfect Subjunctive (Se eu fosse)", topics: ["Click to Practice"], drillId: "imperfect-subjunctive" },
                { unit: 94, title: "Future Subjunctive (Quando eu for)", topics: ["Click to Practice"], drillId: "future-subjunctive" },
                { unit: 95, title: "Personal Infinitive - Introduction", topics: ["Click to Practice"], drillId: "regular-ar" },
                { unit: 96, title: "Personal Infinitive - Uses (para eu fazer)", topics: ["Click to Practice"], drillId: "regular-ar" },
                { unit: 97, title: "Progressive Periphrases (estar/andar/vir)", topics: ["Click to Practice"], drillId: "present-continuous" },
                { unit: 98, title: "Ficar + Gerúndio (kept doing)", topics: ["Click to Practice"], drillId: "present-continuous" },
                { unit: 99, title: "Colloquial Contractions (pra, tá, né)", topics: ["Click to Practice"], drillId: "colloquial-speech" },
                { unit: 100, title: "Comprehensive Review & Synthesis", topics: ["Click to Practice"], drillId: "capstone-synthesis" },
            ]
        };

        // Render units for each phase
        function renderUnits() {
            Object.keys(syllabusData).forEach(phase => {
                const container = document.getElementById(`phase-${phase.toLowerCase()}-units`);
                const units = syllabusData[phase];

                units.forEach(unit => {
                    const card = createUnitCard(unit, phase);
                    container.appendChild(card);
                });
            });
        }

        // Create individual unit card
        function createUnitCard(unit, phase) {
            const div = document.createElement('div');
            div.className = 'unit-card bg-gradient-to-br from-white to-gray-50 border-2 border-gray-200 rounded-lg p-4 hover:border-sky-400 hover:shadow-lg cursor-pointer';

            // Color coding by phase
            const phaseColors = {
                A1: 'text-green-600',
                A2: 'text-blue-600',
                B1: 'text-purple-600',
                B2: 'text-orange-600'
            };

            div.innerHTML = `
                <div class="flex items-start justify-between mb-2">
                    <span class="${phaseColors[phase]} text-xs font-bold uppercase tracking-wide">${phase}</span>
                    <span class="text-2xl font-bold text-gray-300">${unit.unit}</span>
                </div>
                <h3 class="font-semibold text-gray-900 text-sm leading-tight mb-3">${unit.title}</h3>
                <div class="space-y-1">
                    ${unit.topics.map(topic => `
                        <div class="text-xs text-gray-600 flex items-center">
                            <svg class="w-3 h-3 mr-1 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z" />
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg>
                            ${topic}
                        </div>
                    `).join('')}
                </div>
            `;

            div.addEventListener('click', () => openUnit(unit));
            return div;
        }

        // Open unit details
        function openUnit(unit) {
            // Redirect to lesson page for the unit
            window.location.href = `/lessons/unit-${unit.unit}.html`;
        }

        // Filter by phase
        function filterByPhase(phase) {
            const sections = document.querySelectorAll('.phase-section');
            const buttons = document.querySelectorAll('.filter-btn');

            // Update button styles
            buttons.forEach(btn => {
                btn.classList.remove('active', 'bg-sky-500', 'text-white');
                btn.classList.add('bg-gray-200', 'text-gray-700');
            });
            event.target.classList.remove('bg-gray-200', 'text-gray-700');
            event.target.classList.add('active', 'bg-sky-500', 'text-white');

            // Show/hide sections
            if (phase === 'all') {
                sections.forEach(section => section.style.display = 'block');
            } else {
                sections.forEach(section => {
                    section.style.display = section.dataset.phase === phase ? 'block' : 'none';
                });
            }

            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', () => {
            renderUnits();
        });
    </script>

    <!-- PWA Setup -->
    <script src="/pwa-setup.js"></script>
<script src="/js/nav.js"></script>
</body>

</html>